<div class="page app-product-categories">
    <div class="loading content"
        *ngIf="isLoading">
        <mat-spinner></mat-spinner>
        <div class="title">loading categories</div>
    </div>
    <div class="content">
        <div class="title">{{title}}</div>
        <ul class="categories-list">
            <li class="categories-list-item"
                *ngFor="let category of categories$|async">
                <div class="edit-delete-buttons"
                    *ngIf="isLoggedIn">
                    <button color="primary"
                        mat-mini-fab
                        (click)="onEdit(category.id)">
                        <mat-icon fontIcon="edit"></mat-icon>
                        <!-- <span class="mat-icon">edit</span> -->
                    </button>
                    <button mat-mini-fab
                        color="warn"
                        (click)="onDelete(category.id)">
                        <mat-icon fontIcon="delete"></mat-icon>
                    </button>
                </div>
                <div class="category-button"
                    (click)="onCategorySelected(category.id)">{{category.name|capitalize}}
                </div>
            </li>
            <li *ngIf="!isLoading"
                class="categories-list-item">
                <button class="add-category"
                    mat-raised-button
                    *ngIf="isLoggedIn"
                    color="primary"
                    (click)="onAddCategory()">add category
                </button>
            </li>

        </ul>
    </div>
    <app-products></app-products>
</div>
